<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOLVE</title>
    <link rel="stylesheet" href="css/style.css">

    <script src="./js/script.js"></script>
</head>
<body style="margin: 0; font-family: Verdana;">
    
<div id="simscreen">
    <!-- <div id="title"><h3>FUNDAMENTALS OF RESISTORS</h3></div> -->
    <div id="title"><h3>EXPLORING HAM RADIO : RESISTORS</h3></div>
    <style>
        label {
      font-size: 14px;
      font-family: Verdana;
    }
    

select option{
  align-items: center;
  text-align: center;
}

    </style>

<div class="simsubscreen" id="canvas0"><br> 
    <h4 class="incanvas">Objective:</h4> 
    <p class="incanvas" style="font-size: 14px;">To understand the fundamentals of resistors and their color code system in order to accurately <br> determine the resistance of a resistor. </p> <br> <br> 
    &nbsp;<span class="tooltip" style="border-bottom: 1px; color: black; top: 20px; cursor: pointer;"><strong>Description:</strong> <br> 
    <!-- &nbsp;<span class="tooltip" style="border-bottom: 1px; color: black; top: 20px; cursor: pointer;"><strong>Description :</strong> <br> <br> -->
    <p class="para" style="text-align: justify; font-size: 14px; margin-left: 4px; text-align: justify; ">Resistors are fundamental building blocks of Ham radio, being used for current limiters, voltage dividers, oscillators, filters and more. Resistors are essential components in electronics, impeding the flow of electrical current. To determine their resistance, a color code system is used. With four or five colored bands on a resistor, each signifies a numerical value or multiplier. Memorizing the sequence with the acronym BBROYGBVGWSN simplifies decoding, enabling the calculation of resistance.  
    
    </p> 

    <p class="para" style="text-align: justify;font-size: 14px;" >Understanding the resistor color code is vital for professionals and enthusiasts alike. The coded information on the resistor bands provides quick and precise resistance identification, streamlining electronic circuit work. This standardized system enhances efficiency in electronics, allowing for effective integration of resistors into circuits and facilitating the troubleshooting process. Choosing resistors that can maintain their specified values under different operating conditions, contributing to the reliability and precision of electronic systems.</p>
    
    
    </span>

</div>

<div class="simsubscreen" id="canvas1" style="visibility: hidden;">
<!-- <strong class="incanvas">STEP</strong>
<span class="circlebg">&nbsp;1&nbsp;</span> -->
<p class="steptext" style="font-family: Verdana; font-size: 14px; ">&nbsp;<span style="margin-left: 20px; font-weight: bold;">Select the Resistor Band Color:</span></p> <br><br> <br> <br>
<!-- <button id="nextButton1" name="submit" type="button" onclick=""></button> -->
<div id="resistorForm">
    <label for="firstBand" class="first">First Band:</label>
    <select id="firstBand" name="firstBand" onchange="handleFirstBandChange()">
      <!-- Color options for the resistor bands -->
      
      <option value="selectColor" style="background-color: #FFFFFF; color: #000; "> Select Color</option>
      <!-- <option value="" style="font-size:5pt; padding: 5px;" disabled>&nbsp;</option> -->
    
      <option  value="black" style="background-color: #000; padding: 5px; color: #FFFFFF; ">Black</option>
      
      <option value="brown" style="background-color: #8B4513; color: #FFFFFF;">Brown</option>
     
      <option value="red" style="background-color: #FF0000; color: #FFFFFF;">Red</option>
      
      <option value="orange" style="background-color: #FFA500; color: #FFFFFF;">Orange</option>
      
      <option value="yellow" style="background-color: #FFFF00; color: #000;">Yellow</option>
      
      <option value="green" style="background-color: #008000; color: #FFFFFF;">Green</option>
    
      <option value="blue" style="background-color: #0000FF; color: #FFFFFF;">Blue</option>
     
      <option value="violet" style="background-color: #8A2BE2; color: #FFFFFF;">Violet</option>
      
      <option value="gray" style="background-color: #808080; color: #FFFFFF;">Grey</option>
      
      <option value="white" style="background-color: #FFFFFF; color: #000;">White</option>
    
    </select>
 

    <label for="secondBand" class="second">Second Band:</label>
    <select id="secondBand" name="secondBand" onchange="handleSecondBandChange()" disabled>
      <!-- Color options for the resistor bands -->
     
      <option value="selectColor" style="background-color: #FFFFFF; color: #000;">Select Color</option>
     
      <option value="black" style="background-color: #000; color: #FFFFFF;">Black</option>
      
      <option value="brown" style="background-color: #8B4513; color: #FFFFFF;">Brown</option>
      
      <option value="red" style="background-color: #FF0000; color: #FFFFFF;">Red</option>
      
      <option value="orange" style="background-color: #FFA500; color: #FFFFFF;">Orange</option>
      
      <option value="yellow" style="background-color: #FFFF00; color: #000;">Yellow</option>
      
      <option value="green" style="background-color: #008000; color: #FFFFFF;">Green</option>
    
      <option value="blue" style="background-color: #0000FF; color: #FFFFFF;">Blue</option>
     
      <option value="violet" style="background-color: #8A2BE2; color: #FFFFFF;">Violet</option>
      
      <option value="gray" style="background-color: #808080; color: #FFFFFF;">Grey</option>
    
      <option value="white" style="background-color: #FFFFFF; color: #000;">White</option>
      
    </select>
    

    <label for="thirdBand" class="third" >Third Band (Multiplier):</label>
    <select id="thirdBand" name="thirdBand" onchange="handleThirdBandChange()" disabled>
      <!-- Color options for the resistor bands -->
      
      <option value="selectColor" style="background-color: #FFFFFF; color: #000;">Select Color</option>
     
      <option value="black" style="background-color: #000; color: #FFFFFF; ">Black</option>
     
      <option value="brown" style="background-color: #8B4513; color: #FFFFFF;">Brown</option>
      
      <option value="red" style="background-color: #FF0000; color: #FFFFFF;">Red</option>
      
      <option value="orange" style="background-color: #FFA500; color: #FFFFFF;">Orange</option>
    
      <option value="yellow" style="background-color: #FFFF00; color: #000;">Yellow</option>
      
      <option value="green" style="background-color: #008000; color: #FFFFFF;">Green</option>
     
      <option value="blue" style="background-color: #0000FF; color: #FFFFFF;">Blue</option>
      
      <!-- <option value="violet" style="background-color: #8A2BE2; color: #FFFFFF;">Violet</option>
      <option value="gray" style="background-color: #808080; color: #FFFFFF;">Grey</option>
      <option value="white" style="background-color: #FFFFFF; color: #000;">White</option> -->
      <option value="gold" style="background-color: #FFD700;; color: #000;">gold</option>
      
      <option value="silver" style="background-color: #C0C0C0; color: #000;">Silver</option>
      
    </select>

    <label for="fourthBand" class="fourth">Fourth Band (Tolerance):</label>
    <select id="fourthBand" name="fourthBand" disabled>
      <!-- Color options for the resistor bands -->
    
      <option value="selectColor" style="background-color: #FFFFFF; color: #000; ">Select Color</option>
    
      <!-- <option value="black" style="background-color: #000; color: #FFFFFF;">Black</option> -->
      <option value="brown" style="background-color: #8B4513; color: #FFFFFF;">Brown</option>
      
      <option value="red" style="background-color: #FF0000; color: #FFFFFF;">Red</option>
      
      <option value="orange" style="background-color: #FFA500; color: #FFFFFF;">Orange</option>
      
      <option value="yellow" style="background-color: #FFFF00; color: #000;">Yellow</option>
     
      <option value="green" style="background-color: #008000; color: #FFFFFF;">Green</option>
      
      <!-- <option value="blue" style="background-color: #0000FF; color: #FFFFFF;">Blue</option>
      <option value="violet" style="background-color: #8A2BE2; color: #FFFFFF;">Violet</option>
      <option value="gray" style="background-color: #808080; color: #FFFFFF;">Grey</option>
      <option value="white" style="background-color: #FFFFFF; color: #000;">White</option>-->
      <option value="gold" style="background-color: #FFD700;; color: #000;">Gold</option> 
     
      <option value="silver" style="background-color: #C0C0C0; color: #000;">Silver</option>
      
      <option value="nocolor" style="background-color: #FFFFFF; color: rgba(0, 0, 0, 0.1);">No Color</option>
    </select>
    <!-- <div class="resistanceCalBtnDiv"> -->
     <div style="margin-left: 30px;">
    <button onclick="calculateResistanceAndUpdate()"  >Calculate Resistance</button>
  </div>
    
  <!-- </div> -->

    <div class="resistor-container">
   
   <div class="color-bands-container">
   <div class="colorBand1"></div>
    <div class="colorBand2"></div>
    <div class="colorBand3"></div>
    <div class="colorBand4"></div>
  </div> 
  </div>
    <div id="errorMessage" ></div>
  </div>
  <img src="images/resistor3 images.png" alt="" height="100px" width="260px" style="position: absolute; margin-left: 380px; bottom: 300px;">

  <p id="result" style="visibility: hidden;" ></p>
</div>



</div>
<div id="nav">
    <img id="nextButton" onclick="navNext()" src="images/Next.png" alt="">
</div>
<div id="copyright"> &copy;2023-<script>document.write(new Date().getFullYear())</script> SOLVE - The Virtual Lab @ NITK Surathkal, Department of Water Resources & Ocean Engineering
</div>
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

<script>
// Add an event listener to the firstBand dropdown
document.getElementById('firstBand').addEventListener('change', function() {
  // Get the selected color
  var selectedColor = this.value;

  // Get the element representing the first band
  var colorBand1 = document.querySelector('.colorBand1');

  // Apply the selected color to the first band
  colorBand1.style.backgroundColor = selectedColor;

  // Add additional styles (height, width, margin) to the selected color element
  colorBand1.style.height = '58px';  // Set the desired height
  colorBand1.style.width = '16px';   // Set the desired width
  colorBand1.style.margin = '5px';   // Set the desired margin
});

document.getElementById('secondBand').addEventListener('change', function() {
  // Get the selected color
  var selectedColor = this.value;

  // Get the element representing the first band
  var colorBand2 = document.querySelector('.colorBand2');

  // Apply the selected color to the first band
  colorBand2.style.backgroundColor = selectedColor;

  // Add additional styles (height, width, margin) to the selected color element
  colorBand2.style.height = '54px';  // Set the desired height
  colorBand2.style.width = '16px';   // Set the desired width
  colorBand2.style.margin = '5px';   // Set the desired margin
});

document.getElementById('thirdBand').addEventListener('change', function() {
  // Get the selected color
  var selectedColor = this.value;

  // Get the element representing the first band
  var colorBand3 = document.querySelector('.colorBand3');

  // Apply the selected color to the first band
  colorBand3.style.backgroundColor = selectedColor;

  // Add additional styles (height, width, margin) to the selected color element
  colorBand3.style.height = '53px';  // Set the desired height
  colorBand3.style.width = '16px';   // Set the desired width
  colorBand3.style.margin = '5px';   // Set the desired margin
});

document.getElementById('fourthBand').addEventListener('change', function() {
  // Get the selected color
  var selectedColor = this.value;

  // Get the element representing the fourth band
  var colorBand4 = document.querySelector('.colorBand4');

  // Check if the selected color is "No Color"
  if (selectedColor === 'nocolor') {
    // If "No Color" is selected, remove the background color
    colorBand4.style.backgroundColor = 'transparent';
  } else {
    // Apply the selected color to the fourth band
    colorBand4.style.backgroundColor = selectedColor;
  }

  // Add additional styles (height, width, margin) to the selected color element
  colorBand4.style.height = '59px';  // Set the desired height
  colorBand4.style.width = '16px';   // Set the desired width
  colorBand4.style.margin = '5px';   // Set the desired margin
});

// Define variables to store the selected values of the second, third, and fourth bands
var secondBandSelectedValue = null;
var thirdBandSelectedValue = null;
var fourthBandSelectedValue = null;

function handleFirstBandChange() {
    var firstBandDropdown = document.getElementById('firstBand');
    var secondBandDropdown = document.getElementById('secondBand');
    var thirdBandDropdown = document.getElementById('thirdBand');
    var fourthBandDropdown = document.getElementById('fourthBand');

    // Check if all bands were previously selected
    var allBandsSelected =
        firstBandDropdown.value !== 'selectColor' &&
        secondBandSelectedValue !== 'selectColor' &&
        thirdBandSelectedValue !== 'selectColor' &&
        fourthBandSelectedValue !== 'selectColor';

    // Store the selected values before resetting the third and fourth bands
    secondBandSelectedValue = secondBandDropdown.value;
    thirdBandSelectedValue = thirdBandDropdown.value;
    fourthBandSelectedValue = fourthBandDropdown.value;

    // Enable or disable the second band based on the selection of the first band
    secondBandDropdown.disabled = firstBandDropdown.value === 'selectColor';

    // Reset and disable the third and fourth bands only if all bands were previously selected
    if (allBandsSelected) {
        thirdBandDropdown.selectedIndex = 0;
        fourthBandDropdown.selectedIndex = 0;
        thirdBandDropdown.disabled = true;
        fourthBandDropdown.disabled = true;
    }

    // If all bands were previously selected, restore their selected values
    if (allBandsSelected) {
        thirdBandDropdown.value = thirdBandSelectedValue;
        fourthBandDropdown.value = fourthBandSelectedValue;
    }

    // Check if all bands are selected
    if (
        firstBandDropdown.value !== 'selectColor' &&
        secondBandDropdown.value !== 'selectColor' &&
        thirdBandDropdown.value !== 'selectColor' &&
        fourthBandDropdown.value !== 'selectColor'
    ) {
        // Enable the remaining dropdowns
        thirdBandDropdown.disabled = false;
        fourthBandDropdown.disabled = false;
    }
}



// function handleSecondBandChange() {
//     var secondBandDropdown = document.getElementById('secondBand');
//     var thirdBandDropdown = document.getElementById('thirdBand');
//     var fourthBandDropdown = document.getElementById('fourthBand');

//     // Store the selected value of the fourth band before resetting it
//     fourthBandSelectedValue = fourthBandDropdown.value;

//     // Enable or disable the third band based on the selection of the second band
//     thirdBandDropdown.disabled = secondBandDropdown.value === 'selectColor';

//     // Enable the fourth band if the second band is already selected
//     fourthBandDropdown.disabled = secondBandDropdown.value !== 'selectColor';

//     // Reset and disable the fourth band
//     fourthBandDropdown.selectedIndex = 0;
//     if (secondBandDropdown.value !== 'selectColor') {
//         fourthBandDropdown.disabled = false;
//     }

//     // Check if the fourth band was previously selected, restore its selected value
//     if (fourthBandSelectedValue !== 'selectColor') {
//         fourthBandDropdown.value = fourthBandSelectedValue;
//     }
// }

function handleSecondBandChange(){
  var secondBandDropdown =document.getElementById('secondBand')
  var thirdBandDropdown= document.getElementById('thirdBand');
  var fourthBandDropdown =document.getElementById('fourthBand')

  // Store the selected value of the fourth band before resetting it
  fourthBandSelectedValue = fourthBandDropdown.value;

  // Enable or disable the third band based on the selection of the second band
  thirdBandDropdown.disabled =secondBandDropdown.value ==='selectColor';

  // Enable the third band and disable the fourth band only if the second band is selected for the first time
  if(secondBandDropdown.value!=='selectColor' && !initialCalculationDone){
    thirdBandDropdown.disabled=false;
    fourthBandDropdown.disabled=true;
    fourthBandDropdown.selectedIndex=0;
  } else{
    // Enable the fourth band if the second band is already selected
    fourthBandDropdown.disabled =secondBandDropdown.value !== 'selectColor';
    
    //Reset and disable the fourth band
    fourthBandDropdown.selectedIndex=0;
    if(secondBandDropdown.value !=='selectColor'){
      fourthBandDropdown.disabled=false;
    }
  }

  //check if fourth band was previously selected, restore its selected value
  if(fourthBandSelectedValue !='selectColor'){
    fourthBandDropdown.value =fourthBandSelectedValue;
  }
}



function handleThirdBandChange() {
    var thirdBandDropdown = document.getElementById('thirdBand');
    var fourthBandDropdown = document.getElementById('fourthBand');

    // Store the selected value of the fourth band before resetting it
    fourthBandSelectedValue = fourthBandDropdown.value;

    // Enable or disable the fourth band based on the selection of the third band
    fourthBandDropdown.disabled = thirdBandDropdown.value === 'selectColor';

    // Reset the fourth band
    fourthBandDropdown.selectedIndex = 0;

    // Check if the fourth band was previously selected, restore its selected value
    if (fourthBandSelectedValue !== 'selectColor') {
        fourthBandDropdown.value = fourthBandSelectedValue;
    }
}

  // Add a variable to track whether the initial calculation has been performed
  var initialCalculationDone = false;

  function calculateResistanceAndUpdate() {
    // Perform the initial calculation
    calculateResistance();

    // Set the variable to true after the initial calculation
    initialCalculationDone = true;

    // Enable the onchange attributes for real-time updates
    document.getElementById('firstBand').setAttribute('onchange', 'handleFirstBandChange(); calculateResistance();');
    document.getElementById('secondBand').setAttribute('onchange', 'handleSecondBandChange(); calculateResistance();');
    document.getElementById('thirdBand').setAttribute('onchange', 'handleThirdBandChange(); calculateResistance();');
    document.getElementById('fourthBand').setAttribute('onchange', 'calculateResistance();');
  }


</script>
</body>
</html> 